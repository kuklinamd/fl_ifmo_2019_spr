\documentclass[12pt, a4paper] {ncc}
\usepackage[utf8] {inputenc}
\usepackage[T2A]{fontenc}
\usepackage[english, russian] {babel}
\usepackage[left=2cm,right=2cm,top=2cm,bottom=2cm,bindingoffset=0cm]{geometry}
\usepackage{xcolor}
%\usepackage{bussproofs}
\usepackage{syntax}
\usepackage{listings}

\begin{document}
\setcounter{figure}{0}

\section{Конкретный синтаксис.}
\begin{grammar}
<ident> ::= <nondigit> \alt <nondigit> <alphanum> \alt <nondigit> <alphanum> <ident>

<binop> ::= `+' | `.-' | `^' | `*' | `/' | `==' | `/= ' | `<=' | `<' | `>' | `>=' | `|' | `\&\&'

<unop> ::= '-' | '!'

<num-lit> ::= number

<bool-lit> ::= 'T' | 'F'

<lit> ::= <num-lit> | <bool-lit>

<expr> ::= <ident>
\alt <lit>
\alt <app>
\alt 'if' <expr> 'then' <expr> 'else' <expr>
\alt 'let' var '=' <expr> 'in' <expr>
\alt  <expr> <binop> <expr>
\alt <unop> <expr>
\alt '(' <expr> ')'

<app> ::=  <ident> ' ' <ident>
\alt <ident> ' ' <lit>
\alt <ident> ' ' '(' <expr>')'
\alt '(' <expr> ')' <ident>
\alt '(' <expr> ')' <lit>
\alt '(' <expr> ')' '(' <expr> ')'

<bind> ::= <ident> (<arg> | $\varepsilon$) '=' <expr>

<arg> ::= <ident> | <ident> ' ' <arg>

<decl> ::= <bind> ';' <decl> | <bind> ';'

\end{grammar}

Примеры.
\begin{enumerate}
\item Объявление функции/переменной.
\begin{lstlisting}[language=Haskell]
f x = x;
n = 10;
\end{lstlisting}
\item Использование условного оператора \texttt{if}
\begin{lstlisting}[language=Haskell]
f x = if x == 0 then 10 else 20 + x;
\end{lstlisting}

\item Использование \texttt{let}-связывания.
\begin{lstlisting}[language=Haskell]
f y = let x = 10 * y in x ^ x;
\end{lstlisting}
\item Вызов функции
\begin{lstlisting}[language=Haskell]
f x = x;
g = f 10;

ff x y = x + y;
gg = ff 10 20;
\end{lstlisting}
\end{enumerate}

\section{Абстрактный синтаксис}

Представлен в виде АСД.

\begin{lstlisting}[language=Haskell]
type Ast = [Decl]

data Decl = BindDecl Bind

data Bind = Bind Name [Name] Expr

data Expr = Var Name
		  | Lit Lit
          | App Expr Expr
          | If Expr Expr Expr
		  | Let Name Expr Expr
          | UnOp UnOperator Expr
		  | BinOp BinOperator Expr Expr

data Lit = ILit Integer | BLit Bool

\end{lstlisting}

\end{document}
